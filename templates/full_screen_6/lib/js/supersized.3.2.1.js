// (c)2015 ClOuD StuDiO

jQuery.noConflict();(function(jQuery){jQuery(document).ready(function(){jQuery('body').append('<div id="supersized-loader"></div><div id="supersized"></div>');});jQuery.supersized=function(options){var el='#supersized',base=this;base.jQueryel=jQuery(el);base.el=el;vars=jQuery.supersized.vars;base.jQueryel.data("supersized",base);api=base.jQueryel.data('supersized');base.init=function(){jQuery.supersized.vars=jQuery.extend(jQuery.supersized.vars,jQuery.supersized.themeVars);jQuery.supersized.vars.options=jQuery.extend({},jQuery.supersized.defaultOptions,jQuery.supersized.themeOptions,options);base.options=jQuery.supersized.vars.options;base._build();base.joomspirit();};base._build=function(){var thisSlide=0,markers='',markerContent,thumbMarkers='',thumbImage;while(thisSlide<=base.options.slides.length-1){switch(base.options.slide_links){case'num':markerContent=thisSlide;break;case'name':markerContent=base.options.slides[thisSlide].title;break;case'blank':markerContent='';break;}
if(thisSlide==base.options.start_slide-1){if(base.options.slide_links)markers=markers+'<li class="slide'+thisSlide+' current-slide"><a>'+markerContent+'</a></li>';if(base.options.thumb_links){base.options.slides[thisSlide].thumb?thumbImage=base.options.slides[thisSlide].thumb:thumbImage=base.options.slides[thisSlide].image;thumbMarkers=thumbMarkers+'<li class="thumb'+thisSlide+' current-thumb"><img src="'+thumbImage+'"/></li>';};}else{if(base.options.slide_links)markers=markers+'<li class="slide'+thisSlide+'"><a>'+markerContent+'</a></li>';if(base.options.thumb_links){base.options.slides[thisSlide].thumb?thumbImage=base.options.slides[thisSlide].thumb:thumbImage=base.options.slides[thisSlide].image;thumbMarkers=thumbMarkers+'<li class="thumb'+thisSlide+'"><img src="'+thumbImage+'"/></li>';};}
thisSlide++;}
if(base.options.slide_links)jQuery(vars.slide_list).html(markers);if(base.options.thumb_links&&vars.thumb_tray.length){jQuery(vars.thumb_tray).append('<ul id="'+vars.thumb_list.replace('#','')+'"></ul>');jQuery(vars.thumb_list).html(thumbMarkers);}
if(base.options.thumbnail_navigation){vars.current_slide-1<0?prevThumb=base.options.slides.length-1:prevThumb=vars.current_slide-1;jQuery(vars.prev_thumb).show().html(jQuery("<img/>").attr("src",base.options.slides[prevThumb].image));vars.current_slide==base.options.slides.length-1?nextThumb=0:nextThumb=vars.current_slide+1;jQuery(vars.next_thumb).show().html(jQuery("<img/>").attr("src",base.options.slides[nextThumb].image));}
base._start();};base.joomspirit=function(){if(base.options.show_thumb==0){jQuery('#thumb-tray').addClass('hide_thumbnails');}};base._start=function(){if(base.options.start_slide){vars.current_slide=base.options.start_slide-1;}else{vars.current_slide=Math.floor(Math.random()*base.options.slides.length);}
var linkTarget=base.options.new_window?' target="_blank"':'';if(base.options.performance==3){base.jQueryel.addClass('speed');}else if((base.options.performance==1)||(base.options.performance==2)){base.jQueryel.addClass('quality');}
if(base.options.random){arr=base.options.slides;for(var j,x,i=arr.length;i;j=parseInt(Math.random()*i),x=arr[--i],arr[i]=arr[j],arr[j]=x);base.options.slides=arr;}
if(base.options.slides.length>1){vars.current_slide-1<0?loadPrev=base.options.slides.length-1:loadPrev=vars.current_slide-1;var imageLink=(base.options.slides[loadPrev].url)?"href='"+base.options.slides[loadPrev].url+"'":"";var imgPrev=jQuery('<img src="'+base.options.slides[loadPrev].image+'"/>');imgPrev.appendTo(base.el).wrap('<a class="image-loading" '+imageLink+linkTarget+'></a>');imgPrev.load(function(){jQuery(this).data('origWidth',jQuery(this).width()).data('origHeight',jQuery(this).height());base.resizeNow();});}else{base.options.slideshow=0;}
imageLink=(api.getField('url'))?"href='"+api.getField('url')+"'":"";var img=jQuery('<img src="'+api.getField('image')+'"/>');img.appendTo(base.el).wrap('<a class="image-loading activeslide" '+imageLink+linkTarget+'></a>').css('visibility','hidden');img.load(function(){base._origDim(jQuery(this));base.resizeNow();base.launch();if(typeof theme!='undefined'&&typeof theme._init=="function")theme._init();});if(base.options.slides.length>1){vars.current_slide==base.options.slides.length-1?loadNext=0:loadNext=vars.current_slide+1;imageLink=(base.options.slides[loadNext].url)?"href='"+base.options.slides[loadNext].url+"'":"";var imgNext=jQuery('<img src="'+base.options.slides[loadNext].image+'"/>');imgNext.appendTo(base.el).wrap('<a class="image-loading" '+imageLink+linkTarget+'></a>');imgNext.load(function(){jQuery(this).data('origWidth',jQuery(this).width()).data('origHeight',jQuery(this).height());base.resizeNow();});}
base.jQueryel.css('visibility','hidden');jQuery('.load-item').hide();};base.launch=function(){base.jQueryel.css('visibility','visible');jQuery('#supersized-loader').hide();if(typeof theme!='undefined'&&typeof theme.beforeAnimation=="function")theme.beforeAnimation('next');jQuery('.load-item').show();if(base.options.keyboard_nav){jQuery(document.documentElement).keyup(function(event){if(vars.in_animation)return false;if((event.keyCode==37)||(event.keyCode==40)){clearInterval(vars.slideshow_interval);base.prevSlide();}else if((event.keyCode==39)||(event.keyCode==38)){clearInterval(vars.slideshow_interval);base.nextSlide();}else if(event.keyCode==32&&!vars.hover_pause){clearInterval(vars.slideshow_interval);base.playToggle();}});}
if(base.options.slideshow&&base.options.pause_hover){jQuery(base.el).hover(function(){if(vars.in_animation)return false;vars.hover_pause=true;if(!vars.is_paused){vars.hover_pause='resume';base.playToggle();}},function(){if(vars.hover_pause=='resume'){base.playToggle();vars.hover_pause=false;}});}
if(base.options.slide_links){jQuery('li',vars.slide_list).click(function(){index=jQuery('li',vars.slide_list).index(this);targetSlide=index+1;base.goTo(targetSlide);return false;});}
if(base.options.thumb_links){jQuery('li',vars.thumb_list).click(function(){index=jQuery('li',vars.thumb_list).index(this);targetSlide=index+1;api.goTo(targetSlide);return false;});}
if(base.options.slideshow&&base.options.slides.length>1){if(base.options.autoplay&&base.options.slides.length>1){vars.slideshow_interval=setInterval(base.nextSlide,base.options.slide_interval);}else{vars.is_paused=true;}
jQuery('.load-item img').bind("contextmenu mousedown",function(){return false;});}
jQuery(window).resize(function(){base.resizeNow();});};base.resizeNow=function(){return base.jQueryel.each(function(){jQuery('img',base.el).each(function(){thisSlide=jQuery(this);var ratio=(thisSlide.data('origHeight')/thisSlide.data('origWidth')).toFixed(2);var browserwidth=base.jQueryel.width(),browserheight=base.jQueryel.height(),offset;if(base.options.fit_always){if((browserheight/browserwidth)>ratio){resizeWidth();}else{resizeHeight();}}else{if((browserheight<=base.options.min_height)&&(browserwidth<=base.options.min_width)){if((browserheight/browserwidth)>ratio){base.options.fit_landscape&&ratio<1?resizeWidth(true):resizeHeight(true);}else{base.options.fit_portrait&&ratio>=1?resizeHeight(true):resizeWidth(true);}}else if(browserwidth<=base.options.min_width){if((browserheight/browserwidth)>ratio){base.options.fit_landscape&&ratio<1?resizeWidth(true):resizeHeight();}else{base.options.fit_portrait&&ratio>=1?resizeHeight():resizeWidth(true);}}else if(browserheight<=base.options.min_height){if((browserheight/browserwidth)>ratio){base.options.fit_landscape&&ratio<1?resizeWidth():resizeHeight(true);}else{base.options.fit_portrait&&ratio>=1?resizeHeight(true):resizeWidth();}}else{if((browserheight/browserwidth)>ratio){base.options.fit_landscape&&ratio<1?resizeWidth():resizeHeight();}else{base.options.fit_portrait&&ratio>=1?resizeHeight():resizeWidth();}}}
function resizeWidth(minimum){if(minimum){if(thisSlide.width()<browserwidth||thisSlide.width()<base.options.min_width){if(thisSlide.width()*ratio>=base.options.min_height){thisSlide.width(base.options.min_width);thisSlide.height(thisSlide.width()*ratio);}else{resizeHeight();}}}else{if(base.options.min_height>=browserheight&&!base.options.fit_landscape){if(browserwidth*ratio>=base.options.min_height||(browserwidth*ratio>=base.options.min_height&&ratio<=1)){thisSlide.width(browserwidth);thisSlide.height(browserwidth*ratio);}else if(ratio>1){thisSlide.height(base.options.min_height);thisSlide.width(thisSlide.height()/ratio);}else if(thisSlide.width()<browserwidth){thisSlide.width(browserwidth);thisSlide.height(thisSlide.width()*ratio);}}else{thisSlide.width(browserwidth);thisSlide.height(browserwidth*ratio);}}};function resizeHeight(minimum){if(minimum){if(thisSlide.height()<browserheight){if(thisSlide.height()/ratio>=base.options.min_width){thisSlide.height(base.options.min_height);thisSlide.width(thisSlide.height()/ratio);}else{resizeWidth(true);}}}else{if(base.options.min_width>=browserwidth){if(browserheight/ratio>=base.options.min_width||ratio>1){thisSlide.height(browserheight);thisSlide.width(browserheight/ratio);}else if(ratio<=1){thisSlide.width(base.options.min_width);thisSlide.height(thisSlide.width()*ratio);}}else{thisSlide.height(browserheight);thisSlide.width(browserheight/ratio);}}};if(thisSlide.parent().hasClass('image-loading')){jQuery('.image-loading').removeClass('image-loading');}
if(base.options.horizontal_center){jQuery(this).css('left',(browserwidth-jQuery(this).width())/2);}
if(base.options.vertical_center){jQuery(this).css('top',(browserheight-jQuery(this).height())/2);}});if(base.options.image_protect){jQuery('img',base.el).bind("contextmenu mousedown",function(){return false;});}
return false;});};base.nextSlide=function(){if(vars.in_animation||!api.options.slideshow)return false;else vars.in_animation=true;clearInterval(vars.slideshow_interval);var slides=base.options.slides,liveslide=base.jQueryel.find('.activeslide');liveslide.removeClass('activeslide');if(liveslide.length==0)liveslide=base.jQueryel.find('a:last');var nextslide=liveslide.next().length?liveslide.next():base.jQueryel.find('a:first'),prevslide=nextslide.prev().length?nextslide.prev():base.jQueryel.find('a:last');prevslide.addClass('prevslide');vars.current_slide+1==base.options.slides.length?vars.current_slide=0:vars.current_slide++;if(base.options.performance==1)base.jQueryel.removeClass('quality').addClass('speed');loadSlide=false;var linkTarget=base.options.new_window?' target="_blank"':'';vars.current_slide==base.options.slides.length-1?loadSlide=0:loadSlide=vars.current_slide+1;imageLink=(base.options.slides[loadSlide].url)?"href='"+base.options.slides[loadSlide].url+"'":"";var img=jQuery('<img src="'+base.options.slides[loadSlide].image+'"/>');img.appendTo(base.el).wrap('<a class="image-loading" '+imageLink+linkTarget+'></a>').css('visibility','hidden');img.load(function(){base._origDim(jQuery(this));base.resizeNow();});if(base.options.thumbnail_navigation==1){vars.current_slide-1<0?prevThumb=base.options.slides.length-1:prevThumb=vars.current_slide-1;jQuery(vars.prev_thumb).html(jQuery("<img/>").attr("src",base.options.slides[prevThumb].image));nextThumb=loadSlide;jQuery(vars.next_thumb).html(jQuery("<img/>").attr("src",base.options.slides[nextThumb].image));}
liveslide.prev().remove();if(typeof theme!='undefined'&&typeof theme.beforeAnimation=="function")theme.beforeAnimation('next');if(base.options.slide_links){jQuery('.current-slide').removeClass('current-slide');jQuery('li',vars.slide_list).eq(vars.current_slide).addClass('current-slide');}
nextslide.css('visibility','hidden').addClass('activeslide');switch(base.options.transition){case 0:case'none':nextslide.css('visibility','visible');vars.in_animation=false;break;case 1:case'fade':nextslide.animate({opacity:0},0).css('visibility','visible').animate({opacity:1,avoidTransforms:false},base.options.transition_speed,function(){base.afterAnimation();});break;case 2:case'slideTop':nextslide.animate({top:-base.jQueryel.height()},0).css('visibility','visible').animate({top:0,avoidTransforms:false},base.options.transition_speed,function(){base.afterAnimation();});break;case 3:case'slideRight':nextslide.animate({left:base.jQueryel.width()},0).css('visibility','visible').animate({left:0,avoidTransforms:false},base.options.transition_speed,function(){base.afterAnimation();});break;case 4:case'slideBottom':nextslide.animate({top:base.jQueryel.height()},0).css('visibility','visible').animate({top:0,avoidTransforms:false},base.options.transition_speed,function(){base.afterAnimation();});break;case 5:case'slideLeft':nextslide.animate({left:-base.jQueryel.width()},0).css('visibility','visible').animate({left:0,avoidTransforms:false},base.options.transition_speed,function(){base.afterAnimation();});break;case 6:case'carouselRight':nextslide.animate({left:base.jQueryel.width()},0).css('visibility','visible').animate({left:0,avoidTransforms:false},base.options.transition_speed,function(){base.afterAnimation();});liveslide.animate({left:-base.jQueryel.width(),avoidTransforms:false},base.options.transition_speed);break;case 7:case'carouselLeft':nextslide.animate({left:-base.jQueryel.width()},0).css('visibility','visible').animate({left:0,avoidTransforms:false},base.options.transition_speed,function(){base.afterAnimation();});liveslide.animate({left:base.jQueryel.width(),avoidTransforms:false},base.options.transition_speed);break;}
return false;};base.prevSlide=function(){if(vars.in_animation||!api.options.slideshow)return false;else vars.in_animation=true;clearInterval(vars.slideshow_interval);var slides=base.options.slides,liveslide=base.jQueryel.find('.activeslide');liveslide.removeClass('activeslide');if(liveslide.length==0)liveslide=base.jQueryel.find('a:first');var nextslide=liveslide.prev().length?liveslide.prev():base.jQueryel.find('a:last'),prevslide=nextslide.next().length?nextslide.next():base.jQueryel.find('a:first');prevslide.addClass('prevslide');vars.current_slide==0?vars.current_slide=base.options.slides.length-1:vars.current_slide--;if(base.options.performance==1)base.jQueryel.removeClass('quality').addClass('speed');loadSlide=false;var linkTarget=base.options.new_window?' target="_blank"':'';vars.current_slide-1<0?loadSlide=base.options.slides.length-1:loadSlide=vars.current_slide-1;imageLink=(base.options.slides[loadSlide].url)?"href='"+base.options.slides[loadSlide].url+"'":"";var img=jQuery('<img src="'+base.options.slides[loadSlide].image+'"/>');img.prependTo(base.el).wrap('<a class="image-loading" '+imageLink+linkTarget+'></a>').css('visibility','hidden');img.load(function(){base._origDim(jQuery(this));base.resizeNow();});if(base.options.thumbnail_navigation==1){prevThumb=loadSlide;jQuery(vars.prev_thumb).html(jQuery("<img/>").attr("src",base.options.slides[prevThumb].image));vars.current_slide==base.options.slides.length-1?nextThumb=0:nextThumb=vars.current_slide+1;jQuery(vars.next_thumb).html(jQuery("<img/>").attr("src",base.options.slides[nextThumb].image));}
liveslide.next().remove();if(typeof theme!='undefined'&&typeof theme.beforeAnimation=="function")theme.beforeAnimation('prev');if(base.options.slide_links){jQuery('.current-slide').removeClass('current-slide');jQuery('li',vars.slide_list).eq(vars.current_slide).addClass('current-slide');}
nextslide.css('visibility','hidden').addClass('activeslide');switch(base.options.transition){case 0:case'none':nextslide.css('visibility','visible');vars.in_animation=false;base.afterAnimation();break;case 1:case'fade':nextslide.animate({opacity:0},0).css('visibility','visible').animate({opacity:1,avoidTransforms:false},base.options.transition_speed,function(){base.afterAnimation();});break;case 2:case'slideTop':nextslide.animate({top:base.jQueryel.height()},0).css('visibility','visible').animate({top:0,avoidTransforms:false},base.options.transition_speed,function(){base.afterAnimation();});break;case 3:case'slideRight':nextslide.animate({left:-base.jQueryel.width()},0).css('visibility','visible').animate({left:0,avoidTransforms:false},base.options.transition_speed,function(){base.afterAnimation();});break;case 4:case'slideBottom':nextslide.animate({top:-base.jQueryel.height()},0).css('visibility','visible').animate({top:0,avoidTransforms:false},base.options.transition_speed,function(){base.afterAnimation();});break;case 5:case'slideLeft':nextslide.animate({left:base.jQueryel.width()},0).css('visibility','visible').animate({left:0,avoidTransforms:false},base.options.transition_speed,function(){base.afterAnimation();});break;case 6:case'carouselRight':nextslide.animate({left:-base.jQueryel.width()},0).css('visibility','visible').animate({left:0,avoidTransforms:false},base.options.transition_speed,function(){base.afterAnimation();});liveslide.animate({left:0},0).animate({left:base.jQueryel.width(),avoidTransforms:false},base.options.transition_speed);break;case 7:case'carouselLeft':nextslide.animate({left:base.jQueryel.width()},0).css('visibility','visible').animate({left:0,avoidTransforms:false},base.options.transition_speed,function(){base.afterAnimation();});liveslide.animate({left:0},0).animate({left:-base.jQueryel.width(),avoidTransforms:false},base.options.transition_speed);break;}
return false;};base.playToggle=function(){if(vars.in_animation||!api.options.slideshow)return false;if(vars.is_paused){vars.is_paused=false;if(typeof theme!='undefined'&&typeof theme.playToggle=="function")theme.playToggle('play');vars.slideshow_interval=setInterval(base.nextSlide,base.options.slide_interval);}else{vars.is_paused=true;if(typeof theme!='undefined'&&typeof theme.playToggle=="function")theme.playToggle('pause');clearInterval(vars.slideshow_interval);}
return false;};base.goTo=function(targetSlide){if(vars.in_animation||!api.options.slideshow)return false;var totalSlides=base.options.slides.length;vars.update_images=true;if(targetSlide<0){targetSlide=totalSlides;}else if(targetSlide>totalSlides){targetSlide=1;}
targetSlide=totalSlides-targetSlide+1;clearInterval(vars.slideshow_interval);if(typeof theme!='undefined'&&typeof theme.goTo=="function")theme.goTo();if(vars.current_slide==totalSlides-targetSlide){if(!(vars.is_paused)){vars.slideshow_interval=setInterval(base.nextSlide,base.options.slide_interval);}
return false;}
if(totalSlides-targetSlide>vars.current_slide){vars.current_slide=totalSlides-targetSlide-1;base._placeSlide('next');}else if(totalSlides-targetSlide<vars.current_slide){vars.current_slide=totalSlides-targetSlide+1;base._placeSlide('prev');}
if(base.options.slide_links){jQuery('.current-slide',vars.slide_list).removeClass('current-slide');jQuery('li',vars.slide_list).eq((totalSlides-targetSlide)).addClass('current-slide');}
if(base.options.thumb_links){jQuery('.current-thumb',vars.thumb_list).removeClass('current-thumb');jQuery('li',vars.thumb_list).eq((totalSlides-targetSlide)).addClass('current-thumb');}};base._placeSlide=function(place){var linkTarget=base.options.new_window?' target="_blank"':'';if(place=='next'){jQuery('.activeslide').next().remove();loadSlide=false;vars.current_slide==base.options.slides.length-1?loadSlide=0:loadSlide=vars.current_slide+1;imageLink=(base.options.slides[loadSlide].url)?"href='"+base.options.slides[loadSlide].url+"'":"";var img=jQuery('<img src="'+base.options.slides[loadSlide].image+'"/>');img.appendTo(base.el).wrap('<a class="image-loading" '+imageLink+linkTarget+'></a>').css('visibility','hidden');if(vars.update_images)base.nextSlide();img.load(function(){base._origDim(jQuery(this));base.resizeNow();});}else if(place=='prev'){jQuery('.activeslide').prev().remove();loadSlide=false;vars.current_slide-1<0?loadSlide=base.options.slides.length-1:loadSlide=vars.current_slide-1;imageLink=(base.options.slides[loadSlide].url)?"href='"+base.options.slides[loadSlide].url+"'":"";var img=jQuery('<img src="'+base.options.slides[loadSlide].image+'"/>');img.prependTo(base.el).wrap('<a class="image-loading" '+imageLink+linkTarget+'></a>').css('visibility','hidden');if(vars.update_images)base.prevSlide();img.load(function(){base._origDim(jQuery(this));base.resizeNow();});}};base._origDim=function(targetSlide){targetSlide.data('origWidth',targetSlide.width()).data('origHeight',targetSlide.height()).css('visibility','visible');};base.afterAnimation=function(){if(base.options.performance==1){base.jQueryel.removeClass('speed').addClass('quality');}
if(vars.update_images){vars.update_images=false;base._placeSlide('next');base._placeSlide('prev');}
vars.in_animation=false;if(!vars.is_paused&&base.options.slideshow){vars.slideshow_interval=setInterval(base.nextSlide,base.options.slide_interval);if(base.options.stop_loop&&vars.current_slide==base.options.slides.length-1)base.playToggle();}
if(typeof theme!='undefined'&&typeof theme.afterAnimation=="function")theme.afterAnimation();return false;};base.getField=function(field){return base.options.slides[vars.current_slide][field];};base.init();};jQuery.supersized.vars={thumb_tray:'#thumb-tray',thumb_list:'#thumb-list',current_slide:0,in_animation:false,is_paused:false,hover_pause:false,slideshow_interval:false,update_images:false,options:{}};jQuery.supersized.defaultOptions={slideshow:1,autoplay:1,start_slide:1,stop_loop:0,random:0,slide_interval:5000,transition:1,transition_speed:750,new_window:1,pause_hover:0,keyboard_nav:1,performance:1,image_protect:1,fit_always:0,fit_landscape:0,fit_portrait:1,min_width:0,min_height:0,horizontal_center:1,vertical_center:1,slide_links:1,thumb_links:1,show_bottombar:1,show_prevnextbutton:1,show_slidecounter:0,show_imagetitle:1,show_playbutton:1,show_progressbar:1,thumbnail_navigation:0};jQuery.fn.supersized=function(options){return this.each(function(){(new jQuery.supersized(options));});};})(jQuery);